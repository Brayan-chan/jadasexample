<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WhatsApp Button GSAP Animation</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .whatsapp-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
            border-radius: 30px;
            box-shadow: 0 8px 20px rgba(37, 211, 102, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            width: 60px;
            height: 60px;
            padding: 0;
        }
        
        .whatsapp-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 25px rgba(37, 211, 102, 0.4);
        }
        
        .whatsapp-icon {
            width: 30px;
            height: 30px;
            fill: white;
            flex-shrink: 0;
            margin-left: 15px;
            transition: margin-left 0.4s ease;
        }
        
        .whatsapp-text {
            color: white;
            font-weight: 600;
            font-size: 16px;
            white-space: nowrap;
            margin-left: 12px;
            opacity: 0;
            transform: translateX(10px);
        }
        
        .demo-content {
            height: 200vh;
            background: linear-gradient(180deg, #1a1a1a 0%, #2d2d2d 50%, #1a1a1a 100%);
        }
        
        .hero-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-align: center;
        }
        
        .content-section {
            padding: 80px 20px;
            max-width: 1200px;
            margin: 0 auto;
            color: white;
        }
        
        .card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            margin: 40px 0;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
    </style>
</head>
<body class="bg-gray-900">
    <!-- Sección Hero -->
    <div class="hero-section">
        <div class="text-center">
            <h1 class="text-6xl font-bold mb-6">Jada Burguer</h1>
            <p class="text-2xl mb-8">Hamburguesas & Alitas Artesanales</p>
            <p class="text-lg opacity-80">Haz scroll hacia abajo para ver la animación del botón</p>
        </div>
    </div>

    <!-- Sección de Contenido -->
    <div class="demo-content">
        <div class="content-section">
            <div class="card">
                <h2 class="text-4xl font-bold mb-6 text-center">Nuestras Especialidades</h2>
                <p class="text-lg leading-relaxed">
                    En Jada Burguer creamos las mejores hamburguesas artesanales con ingredientes 100% frescos. 
                    Cada hamburguesa es preparada al momento con carne de la más alta calidad.
                </p>
            </div>
            
            <div class="card">
                <h3 class="text-3xl font-bold mb-4">Hamburguesas Premium</h3>
                <p class="text-lg leading-relaxed mb-4">
                    Nuestras hamburguesas premium incluyen carne angus, vegetales frescos y salsas caseras 
                    que harán de cada bocado una experiencia única.
                </p>
                <ul class="list-disc list-inside text-lg space-y-2">
                    <li>Jada Especial - $65</li>
                    <li>Champiñones - $55</li>
                    <li>Chicken Burguer - $50</li>
                </ul>
            </div>
            
            <div class="card">
                <h3 class="text-3xl font-bold mb-4">Alitas Artesanales</h3>
                <p class="text-lg leading-relaxed">
                    Nuestras alitas son marinadas por 24 horas en salsas especiales y cocinadas a la perfección. 
                    Disponibles en diferentes niveles de picante.
                </p>
            </div>
            
            <div class="card">
                <h3 class="text-3xl font-bold mb-4">Continúa haciendo scroll</h3>
                <p class="text-lg leading-relaxed">
                    Observa cómo el botón de WhatsApp se expande y contrae según la dirección del scroll. 
                    La animación es suave y responde tanto al scroll hacia abajo como hacia arriba.
                </p>
            </div>
        </div>
    </div>
    
    <!-- Botón de WhatsApp Flotante -->
    <div class="whatsapp-btn" id="whatsappBtn">
        <svg class="whatsapp-icon" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
            <path fill="white" d="M16.004 0C7.174 0 0 7.176 0 16c0 2.84.74 5.668 2.145 8.137L.745 32l8.004-2.093C11.14 31.243 13.547 32 16.004 32 24.826 32 32 24.822 32 16S24.826 0 16.004 0zm0 29.297c-2.317 0-4.594-.622-6.598-1.799l-.472-.281-4.892 1.279 1.305-4.77-.309-.489a13.252 13.252 0 01-2.012-7.237c0-7.347 5.981-13.328 13.328-13.328S29.682 8.653 29.682 16c0 7.347-5.981 13.297-13.328 13.297zm7.315-9.977c-.4-.201-2.37-1.169-2.74-1.304-.369-.134-.637-.201-.906.201-.269.402-1.041 1.304-1.276 1.572-.234.269-.469.302-.871.101s-1.698-.626-3.235-1.996c-1.196-1.067-2.004-2.383-2.239-2.785-.234-.402-.025-.62.176-.82.18-.18.402-.469.603-.703.201-.234.268-.402.402-.67.134-.269.067-.502-.034-.703-.101-.201-.906-2.183-1.24-2.987-.325-.783-.657-.677-.906-.69-.234-.012-.502-.015-.77-.015s-.703.101-1.072.502c-.369.402-1.407 1.375-1.407 3.355s1.441 3.888 1.642 4.157c.201.268 2.836 4.332 6.87 6.076.96.414 1.708.662 2.292.847.964.307 1.841.263 2.533.159.772-.115 2.378-.973 2.713-1.912s.335-1.744.234-1.912c-.1-.168-.369-.268-.77-.469z"/>
        </svg>
        <span class="whatsapp-text" id="whatsappText">¡Ordena por WhatsApp!</span>
    </div>

    <script>
        // Registrar ScrollTrigger
        gsap.registerPlugin(ScrollTrigger);
        
        // Variables
        let lastScrollY = 0;
        let isExpanded = false;
        const whatsappBtn = document.getElementById('whatsappBtn');
        const whatsappText = document.getElementById('whatsappText');
        
        // Timeline para las animaciones
        const expandTl = gsap.timeline({ paused: true });
        const contractTl = gsap.timeline({ paused: true });
        
        // Configurar animaciones
        expandTl
            .to(whatsappBtn, {
                width: "250px",
                paddingRight: "20px",
                duration: 0.4,
                ease: "power2.out"
            })
            .to(".whatsapp-icon", {
                marginLeft: "20px",
                duration: 0.4,
                ease: "power2.out"
            }, 0)
            .to(whatsappText, {
                opacity: 1,
                x: 0,
                duration: 0.3,
                ease: "power2.out"
            }, "-=0.2");
            
        contractTl
            .to(whatsappText, {
                opacity: 0,
                x: 10,
                duration: 0.2,
                ease: "power2.in"
            })
            .to(whatsappBtn, {
                width: "60px",
                paddingRight: "0px",
                duration: 0.3,
                ease: "power2.in"
            }, "-=0.1")
            .to(".whatsapp-icon", {
                marginLeft: "15px",
                duration: 0.3,
                ease: "power2.in"
            }, "-=0.3");
        
        // Función para expandir el botón
        function expandButton() {
            if (!isExpanded) {
                contractTl.pause();
                expandTl.restart();
                isExpanded = true;
            }
        }
        
        // Función para contraer el botón
        function contractButton() {
            if (isExpanded) {
                expandTl.pause();
                contractTl.restart();
                isExpanded = false;
            }
        }
        
        // Detectar dirección del scroll
        function handleScroll() {
            const currentScrollY = window.scrollY;
            
            // Si estamos en el top, contraer siempre
            if (currentScrollY < 100) {
                contractButton();
            } else {
                // Detectar dirección del scroll
                if (currentScrollY > lastScrollY) {
                    // Scrolling hacia abajo - expandir
                    expandButton();
                } else {
                    // Scrolling hacia arriba - contraer
                    contractButton();
                }
            }
            
            lastScrollY = currentScrollY;
        }
        
        // Event listeners
        window.addEventListener('scroll', handleScroll, { passive: true });
        
        // Click handler para el botón
        whatsappBtn.addEventListener('click', function() {
            // Aquí puedes agregar la lógica para abrir WhatsApp
            const phoneNumber = "525512345678"; // Reemplaza con tu número
            const message = "¡Hola! Me interesa hacer un pedido en Jada Burguer";
            const whatsappUrl = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        });
        
        // Animación inicial del botón (fade in)
        gsap.fromTo(whatsappBtn, 
            { 
                scale: 0,
                opacity: 0 
            },
            { 
                scale: 1,
                opacity: 1,
                duration: 0.5,
                ease: "back.out(1.7)",
                delay: 1
            }
        );
        
        // Animación de hover mejorada
        whatsappBtn.addEventListener('mouseenter', function() {
            gsap.to(this, {
                scale: 1.05,
                duration: 0.2,
                ease: "power2.out"
            });
        });
        
        whatsappBtn.addEventListener('mouseleave', function() {
            gsap.to(this, {
                scale: 1,
                duration: 0.2,
                ease: "power2.out"
            });
        });
        
        // Inicializar estado
        contractButton();
        
        // Configurar dark mode
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });
    </script>
</body>
</html>